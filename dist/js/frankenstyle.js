const rules={"aspect-ratio":[{selector:"aspect",properties:["aspect-ratio"],arbitrary:true}],"background-color":[{selector:"bg",properties:["background-color"],arbitrary:true,dark:true}],"background-color-opacity":[{selector:"bg/o",properties:["background-color"],values:["color-mix(in oklab, var({var}) var({var2}, 100%), transparent)"],placeholders:{"{var}":"bg","{var2}":"bg-o"},dark:true}],"border-radius":[{selector:"rounded",properties:["border-radius"],arbitrary:true},{selector:"rounded-s",properties:["border-start-start-radius","border-end-start-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-s","{var2}":"rounded-s"}},{selector:"rounded-e",properties:["border-start-end-radius","border-end-end-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-e","{var2}":"rounded-e"}},{selector:"rounded-t",properties:["border-top-left-radius","border-top-right-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-t","{var2}":"rounded-t"}},{selector:"rounded-r",properties:["border-top-right-radius","border-bottom-right-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-r","{var2}":"rounded-r"}},{selector:"rounded-b",properties:["border-bottom-right-radius","border-bottom-left-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-b","{var2}":"rounded-b"}},{selector:"rounded-l",properties:["border-top-left-radius","border-bottom-left-radius"],values:["var({var})","var({var2})"],placeholders:{"{var}":"rounded-l","{var2}":"rounded-l"}},{selector:"rounded-ss",properties:["border-start-start-radius"],arbitrary:true},{selector:"rounded-se",properties:["border-start-end-radius"],arbitrary:true},{selector:"rounded-ee",properties:["border-end-end-radius"],arbitrary:true},{selector:"rounded-es",properties:["border-end-start-radius"],arbitrary:true},{selector:"rounded-tl",properties:["border-top-left-radius"],arbitrary:true},{selector:"rounded-tr",properties:["border-top-right-radius"],arbitrary:true},{selector:"rounded-br",properties:["border-bottom-right-radius"],arbitrary:true},{selector:"rounded-bl",properties:["border-bottom-left-radius"],arbitrary:true}],bottom:[{selector:"bottom",properties:["bottom"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"bottom"}},{selector:"[bottom]",properties:["bottom"],arbitrary:true}],color:[{selector:"color",properties:["color"],arbitrary:true,dark:true}],"color-opacity":[{selector:"color/o",properties:["color"],values:["color-mix(in oklab, var({var}) var({var2}, 100%), transparent)"],placeholders:{"{var}":"color","{var2}":"color-o"},dark:true}],columns:[{selector:"columns",properties:["columns"],arbitrary:true}],"flex-basis":[{selector:"basis",properties:["flex-basis"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"basis"}},{selector:"[basis]",properties:["flex-basis"],arbitrary:true}],"flex-grow":[{selector:"grow",properties:["flex-grow"],arbitrary:true}],"flex-shrink":[{selector:"shrink",properties:["flex-shrink"],arbitrary:true}],flex:[{selector:"flex",properties:["flex"],arbitrary:true}],"from-position":[{selector:"from-position",properties:["--tw-gradient-from-position"],arbitrary:true}],from:[{selector:"from",properties:["--tw-gradient-from","--tw-gradient-stops"],values:["var({var})","var(--tw-gradient-from-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-from) var(--tw-gradient-from-position))"],placeholders:{"{var}":"from"},dark:true}],"from-opacity":[{selector:"from/o",properties:["--tw-gradient-from","--tw-gradient-stops"],values:["color-mix(in oklab, var({var}) var({var2}, 100%), transparent)","var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-from) var(--tw-gradient-from-position), var(--tw-gradient-to) var(--tw-gradient-to-position))"],placeholders:{"{var}":"from","{var2}":"from-o"},dark:true}],gap:[{selector:"gap",properties:["gap"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"gap"}},{selector:"gap-x",properties:["column-gap"],values:["calc(var(--spacing) * var({var}, var(--gap)))"],placeholders:{"{var}":"gap-x"}},{selector:"gap-y",properties:["row-gap"],values:["calc(var(--spacing) * var({var}, var(--gap)))"],placeholders:{"{var}":"gap-y"}},{selector:"[gap]",properties:["gap"],arbitrary:true},{selector:"[gap-x]",properties:["column-gap"],values:["var({var}, var(--gap))"],placeholders:{"{var}":"gap-x"}},{selector:"[gap-y]",properties:["row-gap"],values:["var({var}, var(--gap))"],placeholders:{"{var}":"gap-y"}}],"grid-column":[{selector:"col",properties:["grid-column"],arbitrary:true},{selector:"col-span",properties:["grid-column"],values:["span var({var}) / span var({var2})"],placeholders:{"{var}":"col-span","{var2}":"col-span"}},{selector:"col-start",properties:["grid-column-start"],arbitrary:true},{selector:"col-end",properties:["grid-column-end"],arbitrary:true}],"grid-row":[{selector:"row",properties:["grid-row"],arbitrary:true},{selector:"row-span",properties:["grid-row"],values:["span var({var}) / span var({var2})"],placeholders:{"{var}":"row-span","{var2}":"row-span"}},{selector:"row-start",properties:["grid-row-start"],arbitrary:true},{selector:"row-end",properties:["grid-row-end"],arbitrary:true}],"grid-template-columns":[{selector:"grid-cols",properties:["grid-template-columns"],values:["repeat(var({var}), minmax(0, 1fr))"],placeholders:{"{var}":"grid-cols"}},{selector:"[grid-cols]",properties:["grid-template-columns"],arbitrary:true}],"grid-template-rows":[{selector:"grid-rows",properties:["grid-template-rows"],values:["repeat(var({var}), minmax(0, 1fr))"],placeholders:{"{var}":"grid-rows"}},{selector:"[grid-rows]",properties:["grid-template-rows"],arbitrary:true}],height:[{selector:"h",properties:["height"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"h"}},{selector:"[h]",properties:["height"],arbitrary:true}],inset:[{selector:"inset",properties:["inset"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"inset"}},{selector:"start",properties:["inset-inline-start"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"start"}},{selector:"end",properties:["inset-inline-end"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"end"}},{selector:"inset-x",properties:["inset-inline"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"inset-x"}},{selector:"inset-y",properties:["inset-block"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"inset-y"}},{selector:"[inset]",properties:["inset"],arbitrary:true},{selector:"[start]",properties:["inset-inline-start"],arbitrary:true},{selector:"[end]",properties:["inset-inline-end"],arbitrary:true},{selector:"[inset-x]",properties:["inset-inline"],arbitrary:true},{selector:"[inset-y]",properties:["inset-block"],arbitrary:true}],left:[{selector:"left",properties:["left"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"left"}},{selector:"[left]",properties:["left"],arbitrary:true}],"letter-spacing":[{selector:"tracking",properties:["letter-spacing"],arbitrary:true}],"line-height":[{selector:"leading",properties:["line-height"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"leading"}},{selector:"[leading]",properties:["line-height"],arbitrary:true}],margin:[{selector:"m",properties:["margin"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"m"}},{selector:"[m]",properties:["margin"],arbitrary:true},{selector:"mt",properties:["margin-top"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"mt"}},{selector:"[mt]",properties:["margin-top"],arbitrary:true},{selector:"mb",properties:["margin-bottom"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"mb"}},{selector:"[mb]",properties:["margin-bottom"],arbitrary:true},{selector:"ml",properties:["margin-left"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"ml"}},{selector:"[ml]",properties:["margin-left"],arbitrary:true},{selector:"mr",properties:["margin-right"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"mr"}},{selector:"[mr]",properties:["margin-right"],arbitrary:true},{selector:"ms",properties:["margin-inline-start"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"ms"}},{selector:"[ms]",properties:["margin-inline-start"],arbitrary:true},{selector:"me",properties:["margin-inline-end"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"me"}},{selector:"[me]",properties:["margin-inline-end"],arbitrary:true},{selector:"mx",properties:["margin-inline"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"mx"}},{selector:"[mx]",properties:["margin-inline"],arbitrary:true},{selector:"my",properties:["margin-block"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"my"}},{selector:"[my]",properties:["margin-block"],arbitrary:true}],"max-height":[{selector:"max-h",properties:["max-height"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"max-h"}},{selector:"[max-h]",properties:["max-height"],arbitrary:true}],"max-width":[{selector:"max-w",properties:["max-width"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"max-w"}},{selector:"[max-w]",properties:["max-width"],arbitrary:true}],"min-height":[{selector:"min-h",properties:["min-height"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"min-h"}},{selector:"[min-h]",properties:["min-height"],arbitrary:true}],"min-width":[{selector:"min-w",properties:["min-width"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"min-w"}},{selector:"[min-w]",properties:["min-width"],arbitrary:true}],"object-position":[{selector:"object-position",properties:["object-position"],arbitrary:true}],order:[{selector:"order",properties:["order"],arbitrary:true}],padding:[{selector:"p",properties:["padding"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"p"}},{selector:"[p]",properties:["padding"],arbitrary:true},{selector:"pt",properties:["padding-top"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"pt"}},{selector:"pb",properties:["padding-bottom"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"pb"}},{selector:"pl",properties:["padding-left"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"pl"}},{selector:"pr",properties:["padding-right"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"pr"}},{selector:"ps",properties:["padding-inline-start"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"ps"}},{selector:"pe",properties:["padding-inline-end"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"pe"}},{selector:"[pt]",properties:["padding-top"],values:["var({var}, var(--p))"],placeholders:{"{var}":"pt"}},{selector:"[pb]",properties:["padding-bottom"],values:["var({var}, var(--p))"],placeholders:{"{var}":"pb"}},{selector:"[pl]",properties:["padding-left"],values:["var({var}, var(--p))"],placeholders:{"{var}":"pl"}},{selector:"[pr]",properties:["padding-right"],values:["var({var}, var(--p))"],placeholders:{"{var}":"pr"}},{selector:"[ps]",properties:["padding-inline-start"],values:["var({var}, var(--p))"],placeholders:{"{var}":"ps"}},{selector:"[pe]",properties:["padding-inline-end"],values:["var({var}, var(--p))"],placeholders:{"{var}":"pe"}},{selector:"px",properties:["padding-inline"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"px"}},{selector:"py",properties:["padding-block"],values:["calc(var(--spacing) * var({var}, var(--p)))"],placeholders:{"{var}":"py"}},{selector:"[px]",properties:["padding-inline"],values:["var({var}, var(--p))"],placeholders:{"{var}":"px"}},{selector:"[py]",properties:["padding-block"],values:["var({var}, var(--p))"],placeholders:{"{var}":"py"}}],right:[{selector:"right",properties:["right"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"right"}},{selector:"[right]",properties:["right"],arbitrary:true}],size:[{selector:"size",properties:["width","height"],values:["calc(var(--spacing) * var({var}))","calc(var(--spacing) * var({var2}))"],placeholders:{"{var}":"size","{var2}":"size"}},{selector:"[size]",properties:["width","height"],values:["var({var})","var({var2})"],placeholders:{"{var}":"size","{var2}":"size"}}],space:[{selector:"space-x` > :not(:last-child)`",properties:["margin-inline-start","margin-inline-end"],values:["calc(var(--spacing) * var({var}) * var(--tw-space-x-reverse))","calc(var(--spacing) * var({var2}) * (1 - var(--tw-space-x-reverse)))"],placeholders:{"{var}":"space-x","{var2}":"space-x"}},{selector:"[space-x]` > :not(:last-child)`",properties:["margin-inline-start","margin-inline-end"],values:["calc(var({var}) * var(--tw-space-x-reverse))","calc(var({var2}) * (1 - var(--tw-space-x-reverse)))"],placeholders:{"{var}":"space-x","{var2}":"space-x"}},{selector:"space-y` > :not(:last-child)`",properties:["margin-block-start","margin-block-end"],values:["calc(var(--spacing) * var({var}) * var(--tw-space-y-reverse))","calc(var(--spacing) * var({var2}) * (1 - var(--tw-space-y-reverse)))"],placeholders:{"{var}":"space-y","{var2}":"space-y"}},{selector:"[space-y]` > :not(:last-child)`",properties:["margin-block-start","margin-block-end"],values:["calc(var({var}) * var(--tw-space-y-reverse))","calc(var({var2}) * (1 - var(--tw-space-y-reverse)))"],placeholders:{"{var}":"space-y","{var2}":"space-y"}}],to:[{selector:"to",properties:["--tw-gradient-to","--tw-gradient-stops"],values:["var({var})","var(--tw-gradient-to-stops, var(--tw-gradient-position), var(--tw-gradient-to) var(--tw-gradient-to-position), var(--tw-gradient-to) var(--tw-gradient-to-position))"],placeholders:{"{var}":"to"},dark:true}],"to-opacity":[{selector:"to/o",properties:["--tw-gradient-to","--tw-gradient-stops"],values:["color-mix(in oklab, var({var}) var({var2}, 100%), transparent)","var(--tw-gradient-to-stops, var(--tw-gradient-position), var(--tw-gradient-to) var(--tw-gradient-to-position), var(--tw-gradient-to) var(--tw-gradient-to-position))"],placeholders:{"{var}":"to","{var2}":"to-o"},dark:true}],"to-position":[{selector:"to-position",properties:["--tw-gradient-to-position"],arbitrary:true}],top:[{selector:"top",properties:["top"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"top"}},{selector:"[top]",properties:["top"],arbitrary:true}],via:[{selector:"via",properties:["--tw-gradient-via","--tw-gradient-stops"],values:["var({var})","var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position))"],placeholders:{"{var}":"via","{var2}":"via-o"},dark:true}],"via-opacity":[{selector:"via/o",properties:["--tw-gradient-via","--tw-gradient-stops"],values:["color-mix(in oklab, var({var}) var({var2}, 100%), transparent)","var(--tw-gradient-via-stops, var(--tw-gradient-position), var(--tw-gradient-via) var(--tw-gradient-via-position), var(--tw-gradient-to) var(--tw-gradient-to-position))"],placeholders:{"{var}":"via","{var2}":"via-o"},dark:true}],"via-position":[{selector:"via-position",properties:["--tw-gradient-via-position"],arbitrary:true}],width:[{selector:"w",properties:["width"],values:["calc(var(--spacing) * var({var}))"],placeholders:{"{var}":"w"}},{selector:"[w]",properties:["width"],arbitrary:true}],"z-index":[{selector:"z",properties:["z-index"],arbitrary:true}]};(()=>{const breakpoints={sm:"40rem",md:"48rem",lg:"64rem",xl:"80rem","2xl":"96rem"};const nonPrefixable=["spacing",/^tw/];const ruleCache=new Map;let pendingMutations=new Set;let mutationBatchTimeout=null;const interactiveStates=[":hover",":active",":focus",":focus-within",":target",":checked",":disabled"];function isDarkModeClass(className){return className.startsWith("dark:")}function extractDarkModeClass(className){return className.replace(/^dark:/,"")}function escapeCssIdentifier(str){return str.replace(/([ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~])/g,"\\$1").replace(/^(\d)/,(_,d)=>`\\3${d}`)}function escapeSelectorWithBackticks(selector,prefix){const raw=prefix?`${prefix}\\:${selector}`:selector;let out="";let inProtected=false;let buffer="";for(let i=0;i<raw.length;i++){const ch=raw[i];if(ch==="`"){if(inProtected){out+=buffer}else{out+=escapeCssIdentifier(buffer)}inProtected=!inProtected;buffer=""}else{buffer+=ch}}out+=inProtected?buffer:escapeCssIdentifier(buffer);return"."+out}function normalizeVarName(name,prefix){let base=name.replace(/[^a-zA-Z0-9_-]/g,"");if(prefix)base=`${prefix}-${base}`;return`--${escapeCssIdentifier(base)}`}function shouldPrefix(key){return!nonPrefixable.some(rule=>typeof rule==="string"?rule===key:rule.test(key))}function generateArbitraryValue(selector,prefix){const varName=normalizeVarName(selector,prefix);return`var(${varName})`}function resolvePlaceholders(value,placeholders,baseClass,state,prefix,isDark=false){let result=value;for(const[ph,name]of Object.entries(placeholders||{})){const cleanState=state.replace(":","");const cleanName=name.replace(/[^a-zA-Z0-9-]/g,"");const cleanPrefix=prefix?prefix.replace(/[^a-zA-Z0-9-]/g,""):"";let varName;if(prefix&&isDark){varName=`--${cleanPrefix}-dark-${cleanName}-${cleanState}`}else if(prefix){varName=`--${cleanPrefix}-${cleanName}-${cleanState}`}else if(isDark){varName=`--dark-${cleanName}-${cleanState}`}else{varName=`--${cleanName}-${cleanState}`}result=result.replaceAll(ph,varName)}return result}function generateArbitraryValue(baseClass,state,prefix,isDark=false){const cleanState=state.replace(":","");const cleanBaseClass=baseClass.replace(/[^a-zA-Z0-9-]/g,"");const cleanPrefix=prefix?prefix.replace(/[^a-zA-Z0-9-]/g,""):"";let varName;if(prefix&&isDark){varName=`--${cleanPrefix}-dark-${cleanBaseClass}-${cleanState}`}else if(prefix){varName=`--${cleanPrefix}-${cleanBaseClass}-${cleanState}`}else if(isDark){varName=`--dark-${cleanBaseClass}-${cleanState}`}else{varName=`--${cleanBaseClass}-${cleanState}`}return`var(${varName})`}function findRuleConfig(baseClass){for(const[key,configs]of Object.entries(rules)){for(const config of configs){if(config.selector===baseClass){return config}}}return null}function buildRule(baseClass,fullClass,state,prefix=null,isDark=false){const ruleConfig=findRuleConfig(baseClass);let selector;if(isDark){if(prefix){selector=`.dark .${escapeCssIdentifier(prefix)}\\:dark\\:${escapeCssIdentifier(fullClass)}${state}`}else{selector=`.dark .dark\\:${escapeCssIdentifier(fullClass)}${state}`}}else{if(prefix){selector=`.${escapeCssIdentifier(prefix)}\\:${escapeCssIdentifier(fullClass)}${state}`}else{selector=`.${escapeCssIdentifier(fullClass)}${state}`}}const declarations={};if(!ruleConfig){const value=generateArbitraryValue(baseClass,state,prefix,isDark);declarations[baseClass]=value}else{const{properties:properties,values:values,placeholders:placeholders,arbitrary:arbitrary}=ruleConfig;const props=Array.isArray(properties)?properties:[properties];props.forEach((prop,i)=>{let value;if(arbitrary){value=generateArbitraryValue(baseClass,state,prefix,isDark)}else{const rawValue=values[i]||values[0];value=resolvePlaceholders(rawValue,placeholders,baseClass,state,prefix,isDark)}declarations[prop]=value})}return{selector:selector,declarations:declarations}}function extractInteractiveClasses(element){const classList=Array.from(element.classList);const interactiveClasses=[];classList.forEach(className=>{interactiveStates.forEach(state=>{if(className.endsWith(state)){const baseClass=className.slice(0,-state.length);const isDark=isDarkModeClass(baseClass);const actualBaseClass=isDark?extractDarkModeClass(baseClass):baseClass;interactiveClasses.push({baseClass:actualBaseClass,state:state,fullClass:className,isDark:isDark})}})});return interactiveClasses}function generateCssRules(interactiveClasses){const cssRules=[];const processedRules=new Set;interactiveClasses.forEach(({baseClass:baseClass,state:state,fullClass:fullClass,isDark:isDark})=>{const ruleConfig=findRuleConfig(baseClass);if(isDark&&(!ruleConfig||!ruleConfig.dark)){return}const ruleKey=`${fullClass}${state}${isDark?"-dark":""}`;if(ruleCache.has(ruleKey)){cssRules.push(ruleCache.get(ruleKey));return}if(processedRules.has(ruleKey))return;processedRules.add(ruleKey);const rule=buildRule(baseClass,fullClass,state,null,isDark);const css=`${rule.selector} { ${Object.entries(rule.declarations).map(([prop,val])=>`${prop}: ${val}`).join("; ")}; }`;ruleCache.set(ruleKey,css);cssRules.push(css);if(shouldPrefix(baseClass)){Object.entries(breakpoints).forEach(([bp,size])=>{const responsiveRuleKey=`${bp}:${ruleKey}`;if(!ruleCache.has(responsiveRuleKey)){const responsiveRule=buildRule(baseClass,fullClass,state,bp,isDark);const responsiveCss=`@media (min-width: ${size}) { ${responsiveRule.selector} { ${Object.entries(responsiveRule.declarations).map(([prop,val])=>`${prop}: ${val}`).join("; ")}; } }`;ruleCache.set(responsiveRuleKey,responsiveCss);cssRules.push(responsiveCss)}else{cssRules.push(ruleCache.get(responsiveRuleKey))}})}});return cssRules}function generateInteractiveStyles(){const nodes=document.querySelectorAll("[data-fs-interactive]");const allInteractiveClasses=[];nodes.forEach(node=>{if(!node.style.contain){node.style.contain="style"}const interactiveClasses=extractInteractiveClasses(node);allInteractiveClasses.push(...interactiveClasses)});const cssRules=generateCssRules(allInteractiveClasses);const finalCss=cssRules.join("\n");requestAnimationFrame(()=>{let styleTag=document.getElementById("fs-interactive-styles");if(!styleTag){styleTag=document.createElement("style");styleTag.id="fs-interactive-styles";document.head.appendChild(styleTag)}styleTag.textContent=finalCss})}let scheduled=null;function handleMutations(mutationsList){let hasRelevantChanges=false;for(const mutation of mutationsList){if(mutation.type==="attributes"){const{attributeName:attributeName,target:target}=mutation;if(attributeName==="class"||attributeName==="data-fs-interactive"){pendingMutations.add(target);hasRelevantChanges=true}}else if(mutation.type==="childList"){const checkNodes=[...mutation.addedNodes,...mutation.removedNodes];for(const node of checkNodes){if(node.nodeType===1){if(node.hasAttribute?.("data-fs-interactive")||node.querySelector?.("[data-fs-interactive]")){hasRelevantChanges=true;break}}}}}if(hasRelevantChanges){scheduleGenerate()}}function scheduleGenerate(){if(scheduled){clearTimeout(scheduled)}scheduled=setTimeout(()=>{scheduled=null;pendingMutations.clear();generateInteractiveStyles()},60)}function init(){generateInteractiveStyles();const observer=new MutationObserver(handleMutations);observer.observe(document.body,{childList:true,subtree:true,attributes:true,attributeFilter:["data-fs-interactive","class"]});const cleanup=()=>{observer.disconnect();if(scheduled){clearTimeout(scheduled)}pendingMutations.clear();ruleCache.clear()};window.addEventListener("beforeunload",cleanup);window.__fsInteractive={regenerate:generateInteractiveStyles,stop:cleanup,clearCache:()=>ruleCache.clear(),getCacheSize:()=>ruleCache.size,getPendingMutations:()=>Array.from(pendingMutations),getRuleCache:()=>ruleCache,getBreakpoints:()=>breakpoints}}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",init)}else{init()}})();